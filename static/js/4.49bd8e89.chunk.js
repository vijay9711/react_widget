"use strict";(self.webpackChunkreact_widgets=self.webpackChunkreact_widgets||[]).push([[4],{1471:(e,t,s)=>{s.d(t,{D:()=>r});const a=new(s(805).t),i="https://api.themoviedb.org/3",n="d1b1591335dd5854ee8a4c8a65683f00";class r{constructor(){this.getAllGenres=e=>{const t="".concat(i,"/genre/").concat(e,"/list?api_key=").concat(n);return a.get(t)},this.getTrendingMovies=(e,t,s)=>{let r="";return r=""==s||"All"==s?"".concat(i,"/trending/").concat(t,"/day?page=").concat(e).concat(""==s||"All"==s?"":"&with_genres=".concat(s),"&api_key=").concat(n):"".concat(i,"/discover/").concat(t,"?api_key=").concat(n,"&with_genres=").concat(s,"&page=").concat(e),a.get(r)},this.searchMovie=(e,t)=>{const s="".concat(i,"/search/movie?query=").concat(t,"&page=").concat(e,"&size=10&api_key=").concat(n,"&append_to_response=media_type");return a.get(s)}}}},5275:(e,t,s)=>{s.d(t,{A:()=>g});var a=s(5043),i=s(769),n=s(4574),r=s(5445),o=s(3216),l=s(6015),d=s(579);const c=r.A,g=e=>{const t=(0,o.Zp)();(0,a.useEffect)((()=>{c({targets:".card-animation",keyframes:[{translateY:-40,opacity:0},{translateY:0,opacity:1}],delay:c.stagger(100),duration:500,easing:"easeOutElastic(5, .8)",loop:!1})}),[e.item.id]);return(0,d.jsxs)("div",{onClick:()=>{return s=e.item,void t("/".concat(s.media_type?s.media_type:e.parent,"/").concat(s.id,"/details"));var s},className:"group bg-main text-white rounded-xl  shadow:lg border-1 overflow-hidden m-5 cursor-pointer hover:shadow-mainColorShadow duration-500 z-0 card-animation min-h-5/6",children:[(0,d.jsx)(l.A,{className:"w-full h-5/6",src:"https://image.tmdb.org/t/p/w500"+e.item.poster_path,onError:e=>e.target.style.display="none"}),(0,d.jsxs)("div",{className:"px-5 py-3",children:[(0,d.jsxs)(n.NP,{theme:(s=e.item.vote_average,{bg:"linear-gradient(90deg, var(--color-starBackground) calc(".concat(s," / 10 * 100%), var(--color-ratingBg) calc(").concat(s," / 10 * 100%))")}),children:[(0,d.jsx)(i.A,{id:e.index+"rating"}),e.item.media_type?(0,d.jsx)("span",{className:"border px-2 py-1 bg-white text-main font-bold rounded-lg",children:e.item.media_type?e.item.media_type:""}):""]}),(0,d.jsxs)("span",{className:"text-lg float-right font-bold text-white  group-hover:text-xl group-hover:font-bold",children:[e.item&&e.item.vote_average&&e.item.vote_average.toFixed(1),"/10"]})]}),(0,d.jsx)("p",{className:"px-5 py-2 font-bold text-lg truncate text-white  group-hover:text-xl group-hover:font-bold",children:e.item&&e.item.original_title?e.item.original_title:e.item.original_name})]},e.index);var s}},1963:(e,t,s)=>{s.d(t,{A:()=>T});var a=s(7528),i=s(5043),n=s(4501),r=(s(3666),s(579));const o=e=>((0,i.useEffect)((()=>{}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"sm:max-w-[30rem] md:max-w-auto",children:(0,r.jsx)(n.Ay,{maxWidth:20,current:e.currentPage,total:e.totalPage,onPageChange:e.onPageChange})})}));var l=s(4574);s.p;var d,c,g,h;const m=l.Ay.div(d||(d=(0,a.A)(["\n    ","\n    margin-left: auto;\n"])),""),p=l.Ay.input(c||(c=(0,a.A)(["\n    ","\n    border-radius: 30px;\n    font-size: 16px;\n"])),""),u=l.Ay.div(g||(g=(0,a.A)(["\n    padding:5px;\n    border: 0px;\n    ","\n    background-color: white;\n    ","\n    display: flex;\n    ","\n    box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n    -webkit-box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n    -moz-box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.5);\n"])),"","","");l.Ay.img(h||(h=(0,a.A)(["\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    margin-right: 1rem;\n    margin: auto;\n"])));class x extends i.Component{constructor(e){super(e),this.handleInputChange=e=>{const t=this;t.state.typingTimeout&&clearTimeout(t.state.typingTimeout),t.setState({name:e.target.value,typing:!1,typingTimeout:setTimeout((function(){t.sendToParent(t.state.name)}),500)})},this.sendToParent=e=>{this.props.searchResult(e)},this.typing=e=>{clearTimeout(this.state.typingTimer),this.setState({typingTimer:setTimeout(this.handleInputChange(e),this.state.doneTypingTime)})},this.clearTime=()=>{clearTimeout(this.state.typingTimer)},this.state={typingTimer:"",doneTypingTime:1e3,typingTimeout:0,typing:!1,name:""}}render(){return(0,r.jsx)(m,{children:(0,r.jsx)(u,{className:"p-0 w-full sm:rounded-lg md:rounded-full",children:(0,r.jsx)(p,{placeholder:"Search ",className:"m-auto sm:m-0 md:ml-3 sm:w-32 lg:w-auto sm:!h-5",type:"text",onKeyUp:e=>{this.handleInputChange(e)}})})})}}const v=x;var f,y;const w=l.Ay.div(f||(f=(0,a.A)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-left: auto;\n    position: fixed;\n    background-color: white;\n"]))),b=l.Ay.div(y||(y=(0,a.A)(["\n    ","\n    ","\n    ","\n    ","\n"])),"","","","");class j extends i.Component{constructor(e){super(e),this.onPageChange=e=>{this.props.onPageChange(e)},this.searchResult=e=>{this.props.search(e)},this.onGenresSelected=e=>{this.props.selectedGenre(e.target.value.toString())},this.toggleFilter=()=>{this.setState({isFilter:!this.state.isFilter})},this.state={}}render(){return(0,r.jsx)(w,{className:"w-full md:d-block flex-wrap md:pb-3",children:(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 lg:grid-rows-1 sm:grid-cols-1 md:flex  lg:justify-end w-full p-5 xl:px-32 xl:mx-48",children:[(0,r.jsxs)("div",{className:"lg:col-span-1 lg:justify-start sm:grid-cols-2 flex flex-wrap sm:justify-between sm:w-full",children:[(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-main m-0 flex items-center",children:this.props.title})}),"Trending Now"!=this.props.title?(0,r.jsx)(b,{className:"my-auto sm:ml-auto lg:ml-3 md:ml-auto",children:(0,r.jsx)("form",{class:"max-w-sm m-auto flex",children:(0,r.jsxs)("select",{id:"countries",onChange:e=>{this.onGenresSelected(e)},class:"bg-gray-50 border border-main text-main text-md rounded-lg focus:ring-0 focus:border-blue-500 block w-full p-1 h-12 my-auto",children:[(0,r.jsx)("option",{selected:!0,value:"All",children:"All Genre"}),this.props.genres.map(((e,t)=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id)))]})})}):null]}),(0,r.jsxs)("div",{className:"sm:m-0 md:ml-auto sm:grid-cols-1 sm:grid-rows-2 md:grid-rows-1 md:grid-cols-1 flex sm:flex-wrap md:flex-nowrap ",children:[(0,r.jsx)("div",{className:"sm:w-full md:flex md:align-middle items-center",children:(0,r.jsx)(o,{className:"md:ml-auto",currentPage:this.props.currentPage,onPageChange:this.onPageChange,totalPage:this.props.totalPage})}),"Trending Now"==this.props.title?null:(0,r.jsx)("div",{className:"sm:w-full md:ml-4 md:mt-0 sm:mt-4 md:flex md:align-middle md:items-center",children:(0,r.jsx)(v,{className:"sm:m-auto",searchResult:this.searchResult})})]})]})})}}const T=j},5790:(e,t,s)=>{s(5043);s.p;s(579)},658:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a,i=s(7528),n=s(5043),r=s(4574),o=s(1471),l=(s(769),s(339),s(1963)),d=(s(5790),s(5275)),c=s(3216),g=s(579);const h=new o.D;r.Ay.p(a||(a=(0,i.A)(["\n    font-family: 'Roboto', sans-serif;\n    font-size: 16px;\n    margin:.5rem 0rem;\n    color: var(--color-secondary);\n"])));class m extends n.Component{constructor(e){super(e),this.getAllGenres=()=>{h.getAllGenres().then((e=>{this.setState({genres:e.data.genres})})).catch((e=>{console.log(e)}))},this.getTrendingMovies=(e,t)=>{this.setState({loading:!0}),h.getTrendingMovies(e,"all",t).then((e=>{this.setState({trendingMovies:e.data.results}),this.setState({loading:!1})})).catch((e=>{console.log(e),this.setState({loading:!1})}))},this.getRatingBG=e=>({bg:"linear-gradient(90deg, var(--color-starBackground) calc(".concat(e," / 10 * 100%), var(--color-secondary) calc(").concat(e," / 10 * 100%))")}),this.getSelectedMovie=e=>{this.setState({selectedMovieId:e.id}),this.setState({routeMediaType:e.media_type}),this.setState({navigateToNewPage:!0})},this.onPageChange=e=>{this.setState({page:e}),this.state.searchQuery?this.searchedText(this.state.searchQuery,e):this.getTrendingMovies(e,this.state.genreId),window.scrollTo({top:0,behavior:"smooth"})},this.selectedGenre=e=>{this.setState({genreId:e}),this.getTrendingMovies(this.state.page,e)},this.searchedText=(e,t)=>{this.setState({searchQuery:e}),e?h.searchMovie(t,e).then((e=>{this.setState({trendingMovies:e.data.results})})).catch((e=>{console.log(e),this.setState({trendingMovies:[]})})):this.getTrendingMovies(this.state.page,this.state.genreId)},this.state={trendingMovies:[],page:1,selectedMovieId:"",selectedMovieData:"",totalPage:500,searchQuery:"",genres:[],loading:!1,genreId:"",navigateToNewPage:!1,routeMediaType:""}}componentDidMount(){this.getTrendingMovies(this.state.page,this.state.genreId)}render(){this.state.selectedMovieId,this.state.selectedMovieData;const e=this.state;return this.state.navigateToNewPage?(0,g.jsx)(c.C5,{to:"/".concat(this.state.routeMediaType,"/").concat(this.state.selectedMovieId,"/details")}):(0,g.jsx)("div",{className:"",children:(0,g.jsxs)("div",{className:"flex flex-wrap",children:[(0,g.jsx)("div",{className:"w-full align-items-right z-10",children:(0,g.jsx)(l.A,{title:"Trending Now",currentPage:e.page,onPageChange:this.onPageChange,totalPage:e.totalPage,genres:e.genres,selectedGenre:e=>{this.selectedGenre(e)},search:t=>this.searchedText(t,e.page)})}),this.loading?(0,g.jsx)("div",{className:"w-screen h-screen flex flex-col relative",children:(0,g.jsx)("iframe",{className:"m-auto",src:"https://lottie.host/embed/9e937372-61ff-4bc0-8227-dea43845f9b3/P0VSYOQtpM.json"})}):(0,g.jsx)("div",{id:"trending-section",className:"justify-between overflow-auto grid lg:grid-cols-5 md:grid-cols-4 sm:grid-cols-2 md:pt-32 m-auto sm:pt-56",children:e.trendingMovies.map(((e,t)=>(0,g.jsx)(d.A,{index:t,item:e,getSelectedItem:e=>this.getSelectedMovie(e)},t)))})]})})}}const p=m}}]);
//# sourceMappingURL=4.49bd8e89.chunk.js.map